// Generated by IcedCoffeeScript 1.8.0-d
(function() {
  var Deep, SuperHistory, superHistory;

  SuperHistory = (function() {
    function SuperHistory() {
      this.path = "#";
      this.commands = [];
    }

    SuperHistory.prototype.execute = function(command) {
      this.path = command.execute(this.path);
      return this.commands.push(command);
    };

    SuperHistory.prototype.undo = function() {
      var command;
      command = this.commands.pop();
      return this.path = command.undo(this.path);
    };

    return SuperHistory;

  })();

  Deep = (function() {
    function Deep(path) {
      this.path = path;
      this.execute = function(path) {
        return path + "/" + this.path;
      };
      this.undo = function(path) {
        return path.slice(0, path.indexOf(this.path) - 1);
      };
    }

    return Deep;

  })();

  superHistory = new SuperHistory;

  superHistory.execute(new Deep("parent"));

  superHistory.execute(new Deep("child"));

  superHistory.undo();

}).call(this);
